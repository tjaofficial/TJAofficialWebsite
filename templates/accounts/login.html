{% extends "base.html" %}
{% load static %}
{% block title %}Login{% endblock %}
{% block extra_head %}
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
    <script defer src="{% static 'js/login.js' %}"></script>
{% endblock %}
{% block hero %}{% endblock %}
{% block content %}
<div class="auth-wrap">
  <div class="auth-card">
    <div class="auth-head">
      <div class="auth-logo"></div>
      <div>
        <div class="auth-title">Welcome back</div>
        <div class="auth-sub">Log in to keep the momentum rolling.</div>
      </div>
    </div>

    {% if messages %}
      {% for message in messages %}
        <div class="errors">{{ message }}</div>
      {% endfor %}
    {% endif %}
    {% if form.non_field_errors %}
      <div class="errors">{{ form.non_field_errors }}</div>
    {% endif %}

    <form id="loginForm" method="post" action="{% url 'control:accounts:login' %}" novalidate>
      {% csrf_token %}

      <div class="form-row floating">
        <input id="id_username" name="username" type="text"
               inputmode="email" autocomplete="username" placeholder=" "
               required value="{{ form.username.value|default_if_none:'' }}">
        <label for="id_username">Email or Username</label>
      </div>

      <div class="form-row input-affix floating">
        <input id="id_password" name="password" type="password"
               autocomplete="current-password" placeholder=" " required>
        <label for="id_password">Password</label>
        <button class="affix-btn" type="button" id="togglePass">üëÅ</button>
        <div id="capsHint" class="caps-hint">Caps Lock looks ON.</div>
      </div>

      <div class="row-flex">
        <label class="remember">
          <input type="checkbox" id="rememberMe" name="remember_me">
          Remember me
        </label>
        <a class="link" href="{% url 'control:accounts:password_reset' %}">Forgot password?</a>
      </div>

      <button class="submit-btn" id="submitBtn" type="submit">
        <span class="btn-text">Log In</span>
      </button>

      <div class="alt-actions">
        <div>New here? <a class="link" href="{% url 'signup' %}">Create an account</a></div>
        <div class="divider">or continue with</div>
        <div class="oath">
          <button type="button" class="oauth-btn">Google</button>
          <button type="button" class="oauth-btn">GitHub</button>
        </div>
      </div>
    </form>
  </div>
</div>
{% endblock %}
